%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Header
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Font size and paper
\documentclass[10pt,twoside,a4paper,bibliography=totoc]{scrbook}

% Margin
\usepackage{setspace}
\usepackage{anysize}
\marginsize{3cm}{3cm}{2cm}{2cm}

% Font, Encoding
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{times}

% Fancy header and footer
\usepackage{fancyhdr}

% Graphics
\usepackage{graphicx}
\usepackage{float}
\graphicspath{{images/}}

% Math stuff
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{nicefrac}

% Code listings
\usepackage{listings}
\lstset{basicstyle=\footnotesize\ttfamily}

% Links within pdf file
\usepackage{hyperref}
\hypersetup{
	colorlinks=true,
	linkcolor=black,
	citecolor=black,
	filecolor=black,
	urlcolor=black,
	breaklinks=true,
	bookmarksnumbered=true,
	pdfstartpage={1},
        % adapt following lines if you want these items to show in pdf
        % otherwise remove
%	pdftitle={[Thesis]},
%	pdfsubject={[Master Thesis]},
%	pdfauthor={[Sanjay Chamoli]}
}

% Figure captions
\usepackage{caption}
\captionsetup{font=small,labelfont=bf}

% for sample text, can be removed in production version
\usepackage{blindtext}

% Fancy toc title
\renewcommand{\contentsname}{CONTENTS}

% Fancy chapter page
\makeatletter
\def\@makechapterhead#1{
  \vspace*{100\p@}
  {\parindent \z@ 
    {\raggedleft
      \fontsize{15ex}{15ex}
      \textsf\thechapter\par\nobreak}
    \par\nobreak
    \interlinepenalty\@M
    {\raggedright \Huge \textsf{\textsc{#1}}}
    \par\nobreak
    \leavevmode \leaders \hrule height 0.65ex \hfill \kern \z@
    \par\nobreak
    \vskip 100\p@
  }
}

% No headers on empty pages before new chapter
\makeatletter
\def\cleardoublepage{\clearpage\if@twoside \ifodd\c@page\else
  \hbox{}
  \thispagestyle{plain}
  \newpage
  \if@twocolumn\hbox{}\newpage\fi\fi\fi}
\makeatother \clearpage{\pagestyle{plain}\cleardoublepage}

% Fancy header / footer for chapter pages
\fancypagestyle{plain}{
	\fancyhf{}
	\renewcommand{\headrulewidth}{0pt}
	\fancyfoot[LE,RO]{\thepage}
}

% Fancy header / footer for normal pages
\pagestyle{fancy}
\fancyhf{}
\fancyfoot[LE,RO]{\thepage}
\fancyhead[LO]{\leftmark}
\fancyhead[RE]{\rightmark}

% No indent for paragraphs
\setlength{\parskip}{1.3ex plus 0.2ex minus 0.2ex}
\setlength{\parindent}{0pt}

% A few commands
\newcommand{\term}[1]{\textit{#1}}
\newcommand{\code}[1]{\texttt{#1}}

% Fancy bibliography, see http://merkel.zoneo.net/Latex/natbib.php
\usepackage[square,comma,numbers,sort&compress]{natbib}
